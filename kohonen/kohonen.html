<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
</head>
<body>

<canvas id="kohCanvas" width="512" height="512"></canvas>
<button>Treniruoti</button>

<script type="text/javascript">
    function _rnd_Int( x, y )
    {
        return Math.floor(
            Math.random() * ( y - x + 1 ) + x
        );
    }
    function _rnd_Real( x, y )
    {
        return Math.random() * ( y - x ) + x;
    }
    function _log( l )
    {
        console.log( l );
    }
</script>
<script type="text/javascript">
    var kohCanvas = document.getElementById('kohCanvas');

    var SOM_HEIGHT = 32;
    var SOM_WIDTH = 32;

    function koh_RGBStr( r, g, b )
    {
        return 'rgb(' + r + ',' + g + ',' + b + ')';
    }
    function koh_RGBRnd( )
    {
        return koh_RGBStr(
            _rnd_Int( 0, 255 ),
            _rnd_Int( 0, 255 ),
            _rnd_Int( 0, 255 )
        );
    }


    function koh_Show( som )
    {
        var y, x;
        var c = document.getElementById("kohCanvas");
        var canvasY = c.getAttribute('height')*1;
        var canvasX = c.getAttribute('width')*1;
        var yStep = Math.floor(canvasY/SOM_HEIGHT);
        var xStep = Math.floor(canvasX/SOM_WIDTH);
        var s;

        var ctx=c.getContext("2d");

        var _y = 0;
        var _x = 0;
        for ( y = 0; y < SOM_HEIGHT; y++ )
        {
            _x = 0;
            for ( x = 0; x < SOM_WIDTH; x++ )
            {
                s = som[y][x];
                ctx.fillStyle = koh_RGBStr(Math.floor(s.r*255), Math.floor(s.g*255), Math.floor(s.b*255));
                ctx.fillRect( _x, _y, xStep, yStep );
                _x += xStep;
            } // end for
            _y += yStep;
        } // end for y
    }

    function koh_Create()
    {
        var y, x;
        var som = new Array( SOM_HEIGHT );
        for ( y = 0; y < SOM_HEIGHT; y++ )
        {
            som[y] = new Array( SOM_WIDTH );
            for ( x = 0; x < SOM_WIDTH; x++ )
            {
                som[y][x] = {
                    y: y,
                    x: x,
                    r: _rnd_Real( 0, 1 ),
                    g: _rnd_Real( 0, 1 ),
                    b: _rnd_Real( 0, 1 )
                };
            } // end for x
        } // end for x
        return som;
    }

    function koh_Main()
    {
        var som = koh_Create();
        koh_Show( som );
    }
    koh_Main();
</script>

</body>
</html>